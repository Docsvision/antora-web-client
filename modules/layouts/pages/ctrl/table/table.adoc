= Таблица

Элемент разметки `_Таблица_` предназначен для ввода и отображения данных табличной секции карточки.

Столбцы в ЭР `_Таблицы_` представляют собой отдельные элементы разметки -- xref:ctrl/table/tableColumn.adoc["Столбец таблицы"]. В один ЭР `_Таблица_` может быть добавлено необходимое количество столбцов.

.Пример элемента разметки "Таблица"
image::table-sample.png[Пример элемента разметки "Таблица"]

Таблица предоставляет возможность добавлять новые строки кнопкой image:buttons/plus-black.png[Плюс] и удалять существующие кнопкой image:buttons/urn-thin.png[Корзина]. Данные кнопки отображаются, если разрешено редактирование таблицы. Кнопка добавления строки может быть скрыта.

Также в таблицу могут быть добавлены новые команды.

[NOTE]
====
Способ сохранения изменений таблицы отличается в зависимости от режима работы с ней:

* Если карточка открыта с разметкой режима просмотра (таблица также в режиме просмотра), изменение данных в ячейке сохраняется сразу.
* Если карточка открыта в режиме редактирования, то все изменения таблицы сохраняются при сохранении карточки.
====

Количество отображаемых в ЭР строк ограничивается настройками (по умолчанию -- 15), при этом настоятельно не рекомендуется связывать ЭР с секцией, содержащей более 30 строк т.к. это может привести к увеличению времени открытия карточки.

По умолчанию строки в таблице не сортируются, а отображаются в порядке следования в связанной секции или в соответствии с реализованным разработчиком алгоритмом. Пользователю может быть предоставлена возможность вручную изменять порядок отображения строк в таблице (не сортировка) путём их перетаскивания.

.Чтобы изменить порядок строк в таблице:
* В секции, связанной с таблицей, должно быть числовое поле (целое число), в котором будет сохраняться порядок строк.
* Данное поле должно быть выбрано в свойстве `*Сохранять номер последовательности*`.

NOTE: Изменять порядок отображения строк возможно в режимах редактирования *_По месту_* или *_Редактирование_*. Чтобы отображать строки с учётом заданной пользователем последовательности необходимо указать поле с порядком строк в свойстве `*Сохранять номер последовательности*` разметок редактирования и просмотра. В режиме редактирования порядок строк обновляется не моментально, а только после сохранения карточки.

Пример использования данного ЭУ в разметке рассмотрен в разделе xref:layouts-table.adoc[Использование таблицы для работы с коллекционной секцией карточки].

== Свойства

include::partial$properties.adoc[tags=general]

=== Внешний вид

==== Заголовок

Текст, отображаемый в названии таблицы.

`*Локализуемый*`

==== Скрыть кнопку добавления строк

При включении скрывает из пользовательского интерфейса кнопку image:buttons/plus-black.png[Плюс].

=== Данные

include::partial$properties.adoc[tags=extendedDataSource]

==== Источник данных

Коллекционная секция карточки, содержащая данные для элемента управления.

include::partial$properties.adoc[tags=editOperation]

=== Поведение

include::partial$properties.adoc[tags=visibility]

include::partial$properties.adoc[tags=addCss]

==== Максимальное количество строк для отображения

Определяет максимальное число отображаемых в _ЭР_ строк (по умолчанию -- `15`). Если число строк в связанной секции больше, чем данное ограничение, в конце таблицы отображается сообщение: _There are more rows, that are not shown due to table settings_.

==== Минимальная высота

Минимальная высота элемента управления.

`*Адаптивный*`

include::partial$properties.adoc[tags=minWidth]

include::partial$properties.adoc[tags=editOperationForVisibility]

include::partial$properties.adoc[tags=disabled]

==== Отображать свернутым

Определяет начальное состояние `_Таблицы_`:

* Когда флаг установлен, содержимое `_Таблицы_` не отображается в карточке.
* Когда флаг не установлен, содержимое `_Таблицы_` отображается в карточке.

Проверяется только при установленном флаге <<foldable,"Сворачиваемый">>

`*Адаптивный*`

include::partial$properties.adoc[tags=byTab]

include::partial$properties.adoc[tags=order]

include::partial$properties.adoc[tags=editMode]

include::partial$properties.adoc[tags=foldable]

==== Сохранять номер последовательности

Свойство, сохраняющее порядок вывода строк таблицы. Должно быть указано, если требуется иметь возможность изменять прядок строк перетаскиванием. Требуемый тип поля: *_целое_*.

==== Способ редактирования строк

Определяет способ редактирования значения в строках таблицы:

* *_Встроенный_*. Редактирование значения осуществляется в строке самой таблицы.
* *_Разметка_*. Редактирование значения осуществляется в отдельном окне со своей разметкой. Разметка настраивается отдельно.
+
NOTE: Данное свойство доступно только в разметках секций карточек для режима просмотра.

include::partial$properties.adoc[tags=stdCss]

include::partial$properties.adoc[tags=widthPercent]

=== События

include::partial$properties.adoc[tags=beforeExpand]

include::partial$properties.adoc[tags=beforeCollapse]

==== После добавления строки

Вызывается, когда строка таблицы была добавлена.

==== После разворачивания

Вызывается после разворачивания таблицы.

==== После сворачивания

Вызывается после сворачивания таблицы.

==== После удаления строки

Вызывается, когда строка таблицы была удалена.

==== При добавлении строки

Вызывается перед добавлением строки таблицы.

include::partial$properties.adoc[tags=mouseOver]

include::partial$properties.adoc[tags=mouseAway]

include::partial$properties.adoc[tags=focusGet]

==== При удалении строки

Вызывается перед удалением строки таблицы.

include::partial$properties.adoc[tags=onClick]
