= Список файлов

Элемент управления `_Список файлов_` предназначен для работы со списком файлов карточки типа _Документ_.

.Пример элемента управления "Список файлов"
image::file-list-sample.png[Пример элемента управления "Список файлов"]

.Данный элемент управления позволяет:
* Отображать основные и дополнительные файлы карточки.
* Добавлять или удалять основные и дополнительные файлы с файловой системы и со сканера.
+
[#allowScan]
[NOTE]
====
Для использования функции сканирования в элемент управления `_Список файлов_` требуется добавить элемент xref:ctrl/special/scanButton.adoc["Сканирование"].
====
+
* Работать со списком версий.
* Изменять тип добавленного файла (основной, дополнительный) перетаскиванием.
* Переименовывать файлы.
* Просматривать содержимое файла в окне предварительного просмотра: собственная реализация или с использованием компонента xref:ctrl/special/filePreview.adoc["Предпросмотр файла"].
* Подписывать файлы ЭП.
* Формировать печатную версию со штампом электронной подписи для основных файлов.
* Загружать отсоединённую электронную подпись.

Возможность выполнения определённой операции пользователем регулируется ролевой моделью.

NOTE: Данный ЭУ может быть добавлен только в разметку карточек типа Документ.

== Свойства

include::partial$properties.adoc[tags=general]

=== Поведение

include::partial$properties.adoc[tags=visibility]

include::partial$properties.adoc[tags=addCss]

==== Загружать синхронно (шт)

Определяет максимальное количество элементов списка, при котором должна использоваться синхронная загрузка данных. Если количество элементов больше указанного, то все данные будут загружаться асинхронно.

include::partial$properties.adoc[tags=editOperationForVisibility]

[#editOperationToAddSignature]
==== Операция редактирования для добавления подписи

Определяет операцию, которая должна быть доступна пользователю для возможности загрузки файла отсоединённой электронной подписи.

[#allowAdditional]
==== Разрешить дополнительные файлы

Разрешает или запрещает добавление дополнительных файлов с помощью данного элемента управления.

include::partial$properties.adoc[tags=file-sort]

include::partial$properties.adoc[tags=user-sort]

==== Скрыть кнопку подписи

Позволяет скрыть кнопку подписи в списке файлов. По умолчанию свойство активно -- кнопка скрыта.

include::partial$properties.adoc[tags=stdCss]

=== Текст метки

==== Заголовок

Тест, отображаемый в заголовке элемента управления. По умолчанию: `Файлы`.

==== Заполнитель

Текст, отображаемый в элементе управления, когда файлы не добавлены. По умолчанию: `Файлы отсутствуют`.

==== Заполнитель при перетаскивании

Текст, отображаемый в элементе управления при добавлении файла. По умолчанию: `Перетащите сюда файлы`.

==== Текст "Добавить дополнительный файл"

Текст отображаемый в ссылке, при нажатии которой вызывается добавление дополнительного файла. По умолчанию: `+ дополнительный`.

==== Текст "Добавить основной файл"

Текст отображаемый в ссылке, при нажатии которой вызывается добавление основного файла. По умолчанию: `+ основной`.

==== Текст для дополнительного файла

Текст, отображаемый в блоке добавления дополнительного файла перетаскиванием, и в заголовке списка дополнительных файлов. По умолчанию: `Дополнительные файлы`.

==== Текст для основного файла

Текст, отображаемый в блоке добавления основного файла перетаскиванием, и в заголовке списка основных файлов. По умолчанию: `Основные файлы`.

Свойство `*Текст "Добавить дополнительный файл"*`, `*Текст "Добавить основной файл"*`, `*Текст для дополнительного файла*` и `*Текст для основного файла*` доступны только при включенном свойстве `*Разрешить дополнительные файлы*`.

=== События

==== Клик по строке

Вызывается по нажатию на строку.

==== Перед визуализацией файла

Вызывается при формировании печатной версии файла со штампом электронной подписи.

==== Перед добавлением дополнительного файла

Вызывается перед добавлением дополнительного файла.

==== Перед добавлением комментария к версии файла

Вызывается перед добавлением комментария к версии файла.

==== Перед добавлением основного файла

Вызывается перед добавлением основного файла.

==== Перед загрузкой версии файла

Вызывается перед загрузкой версии файла.

// ==== Перед изменением типа файла
//
// Вызывается перед изменением типа файла.

==== Перед кликом по версии файла

Вызывается перед нажатием на версию файла.

==== Перед кликом по имени файла

Вызывается перед нажатием на имя файла.

==== Перед открытием диалога подписи

Вызывается перед открытием диалога подписания.

==== Перед открытием предпросмотра файла

Вызывается перед открытием предварительного просмотра файла.

==== Перед открытием списка версий

Вызывается перед открытием списка версий.

==== Перед открытием файла через WebDAV

Вызывается перед открытием файла с использованием WebDAV.

==== Перед открытием файлового меню

Вызывается перед открытием файлового меню.

==== Перед просмотром журнала подписей

Вызывается перед просмотром журнала подписей.

==== Перед разворачиванием

Вызывается перед разворачиванием списка файлов.

==== Перед сворачиванием

Вызывается перед сворачиванием списка файлов.

==== Перед скачиванием версии файла

Вызывается перед скачиванием версии файла.

==== Перед созданием цифровой подписи

Вызывается перед созданием цифровой подписи файла.

==== Перед удалением дополнительного файла

Вызывается перед удалением дополнительного файла.

==== Перед удалением комментария к версии файла

Вызывается перед удалением комментария к версии файла.

==== Перед удалением основного файла

Вызывается перед удалением основного файла.

==== После визуализации файла

Вызывается после формирования печатной версии файла со штампом электронной подписи.

==== После добавления дополнительного файла

Вызывается после добавления дополнительного файла.

==== После добавления комментария к версии файла

Вызывается после добавления комментария к версии файла.

==== После добавления основного файла

Вызывается после добавления основного файла.

==== После загрузки версии файла

Вызывается после загрузки версии файла.

// ==== После изменения типа файла
//
// Вызывается после изменения типа файла.

==== После открытия предпросмотра файла

Вызывается после открытия предварительного просмотра файла.

==== После открытия файла через WebDAV

Вызывается после открытия файла с использованием WebDAV.

==== После разворачивания

Вызывается после разворачивания списка файлов.

==== После сворачивания

Вызывается после сворачивания списка файлов.

==== После скачивания версии файла

Вызывается после скачивания версии файла.

==== После создания цифровой подписи

Вызывается после создания цифровой подписи файла.

==== После удаления дополнительного файла

Вызывается после удаления дополнительного файла.

==== После удаления комментария к версии файла

Вызывается после удаления комментария к версии файла.

==== После удаления основного файла

Вызывается после удаления основного файла.

include::partial$properties.adoc[tags=mouseOver]

include::partial$properties.adoc[tags=mouseAway]

==== При просмотре журнала подписей

Вызывается после просмотра журнала подписей.

include::partial$properties.adoc[tags=onWebDAVSave]

include::partial$properties.adoc[tags=onClick]
